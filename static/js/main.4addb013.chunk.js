(this["webpackJsonpcp-final-fire-simulation"]=this["webpackJsonpcp-final-fire-simulation"]||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n.n(a),i=n(12),r=n.n(i),s=(n(19),n(0)),l=n(1),c=n(2),p=n(3),m=n(5),u=n(13),d=n.n(u),h=n(14),b=function(e){return e=e.map((function(e){return e/256})),new m.f(e[0],e[1],e[2])},v=6e3,f=.0085,g=[245.82,102,25],y={size:{default:.6,min:.01,max:1},sizeVarience:{default:.2,min:.01,max:.5},speed:{default:120,min:50,max:200},speedVarience:{default:100,min:0,max:100},centrality:{default:5,min:1,max:10},fadingSpeed:{default:f,min:.001,max:.03},color:{default:g}},w=0,E=1,P=function(){function e(t){var n=this;Object(s.a)(this,e),this.setAttr=function(e,t){n.options.hasOwnProperty(e)&&t&&n.options[e]!==t&&("color"===e?(n.options[e]=b(t),n.material.uniforms.color.value=n.options[e]):n.options[e]=t)},this.bulkSetAttrs=function(e){for(var t in e)n.setAttr(t,e[t])},this.setParticleNum=function(e){if(e!==n.options.particleNum){for(var t=0;t<v;t++)t<e&&n.particleState[t]===w&&(n.particleState[t]=E,n.alpha[t]=0),t>=e&&n.particleState[t]===E&&(n.particleState[t]=w,n.alpha[t]=0);n.options.particleNum=e}},this.init=function(){for(var e=0;e<v;e++)n.alpha[e]=0,n.particleState[e]=w},this.appendParticle=function(){var e=n.particleNumber;n.particleState[e]=E;var t=3*e,a=n.createParticle();n.position[t]=a.position.x,n.position[t+1]=a.position.y,n.position[t+2]=a.position.z,n.vel[t]=a.vel.x,n.vel[t+1]=a.vel.y,n.vel[t+2]=a.vel.z,n.size[e]=a.size,n.speed[e]=a.speed,n.alpha[e]=.6,n.particleNumber+=1},this.createParticle=function(){return{position:function(){var e=new m.w,t=2*Math.PI,n=Math.random()*t+m.l.randFloatSpread(.2*Math.PI),a=Math.random()*t+m.l.randFloatSpread(.2*Math.PI);return e.x=m.l.randFloat(0,3*Math.sin(n)*Math.cos(a)),e.y=.2*m.l.randFloat(0,3*Math.cos(n)),e.z=m.l.randFloat(0,3*Math.sin(n)*Math.sin(a)),e}(),vel:function(e){var t=new m.w,n=2*Math.PI*Math.random()+m.l.randFloatSpread(.4*Math.PI),a=2*Math.PI*Math.random()+m.l.randFloatSpread(.4*Math.PI);return t.x=Math.cos(n),t.y=e,t.z=Math.sin(a),t.normalize(),t}(n.options.centrality),speed:n.options.speed+m.l.randFloatSpread(n.options.speedVarience),size:n.options.size+m.l.randFloatSpread(n.options.sizeVarience)}},this.update=function(e){var t=n.particleSystem.geometry.attributes.position.array,a=n.particleSystem.geometry.attributes.alpha.array,o=e-n.prevElapsed;if(n.prevElapsed=e,n.particleNumber<n.options.particleNum)for(n.numShouldGen+=1600*o;n.numShouldGen>0;)n.appendParticle(),n.numShouldGen-=1;for(var i=0;i<n.particleNumber;i++){var r=3*i;if(a[i]<=0){var s=n.createParticle();t[r]=s.position.x,t[r+1]=s.position.y,t[r+2]=s.position.z,n.vel[r]=s.vel.x,n.vel[r+1]=s.vel.y,n.vel[r+2]=s.vel.z,n.speed[i]=s.speed,n.size[i]=s.size,a[i]=.6}else{var l=n.speed[i]/1e3;t[r]+=n.vel[r]*l,t[r+1]+=n.vel[r+1]*l,t[r+2]+=n.vel[r+2]*l;var c=new m.v(t[r],t[r+2]).length();a[i]-=n.options.fadingSpeed+.01*Math.tanh(1.5*c)}}n.particleSystem.geometry.attributes.size.needsUpdate=!0,n.particleSystem.geometry.attributes.position.needsUpdate=!0,n.particleSystem.geometry.attributes.alpha.needsUpdate=!0},this.options={size:.6,sizeVarience:.2,speed:120,speedVarience:100,fadingSpeed:f,particleNum:3e3,centrality:5,color:g},this.bulkSetAttrs(t),this.position=new Float32Array(18e3),this.vel=new Float32Array(18e3),this.size=new Float32Array(v),this.speed=new Float32Array(v),this.alpha=new Float32Array(v),this.particleState=new Uint8Array(v),this.prevElapsed=0,this.time=0,this.particleNumber=0,this.numShouldGen=0,this.init(),this.center=new m.w(0,0,0),this.geometry=new m.c,this.geometry.setAttribute("position",new m.b(this.position,3)),this.geometry.setAttribute("size",new m.b(this.size,1)),this.geometry.setAttribute("alpha",new m.b(this.alpha,1));var a=this.loadTexture("gradient.png");a.wrapS=m.d,a.wrapT=m.d,a.minFilter=m.j;var o={tex:{value:a},color:{value:b(this.options.color)}};this.material=new m.q({vertexShader:"attribute float size;\nattribute float alpha;\n\nvarying float v_alpha;\n\nvoid main() {\n    vec4 mvPos = modelViewMatrix * vec4(position, 1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = 600.0 * size / length(mvPos.xyz);\n    v_alpha = alpha;\n}",fragmentShader:"uniform sampler2D tex;\nuniform vec3 color;\nvarying float v_alpha;\n\nvoid main() {\n    gl_FragColor = vec4(color, v_alpha) * texture2D(tex, gl_PointCoord);\n}",uniforms:o,blending:m.g,depthTest:!1,transparent:!0}),this.material.blending=m.g,this.material.blendSrc=m.s,this.material.blendDst=m.h,this.particleSystem=new m.n(this.geometry,this.material)}return Object(l.a)(e,[{key:"loadTexture",value:function(e){return(new m.u).load("".concat("/cg-particle-flame","/").concat(e))}}]),e}(),O=n(6),S={type:"change"},T={type:"start"},A={type:"end"},j=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e,a){var o;Object(s.a)(this,n),o=t.call(this),void 0===a&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.object=e,o.domElement=a,o.domElement.style.touchAction="none",o.enabled=!0,o.target=new m.w,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.05,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.panSpeed=1,o.screenSpacePanning=!0,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},o.mouseButtons={LEFT:m.k.ROTATE,MIDDLE:m.k.DOLLY,RIGHT:m.k.PAN},o.touches={ONE:m.t.ROTATE,TWO:m.t.DOLLY_PAN},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o._domElementKeyEvents=null,o.getPolarAngle=function(){return p.phi},o.getAzimuthalAngle=function(){return p.theta},o.getDistance=function(){return this.object.position.distanceTo(this.target)},o.listenToKeyEvents=function(e){e.addEventListener("keydown",Q),this._domElementKeyEvents=e},o.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},o.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(S),i.update(),l=r.NONE},o.update=function(){var t=new m.w,n=(new m.o).setFromUnitVectors(e.up,new m.w(0,1,0)),a=n.clone().invert(),o=new m.w,s=new m.o,v=2*Math.PI;return function(){var e=i.object.position;t.copy(e).sub(i.target),t.applyQuaternion(n),p.setFromVector3(t),i.autoRotate&&l===r.NONE&&L(2*Math.PI/60/60*i.autoRotateSpeed),i.enableDamping?(p.theta+=u.theta*i.dampingFactor,p.phi+=u.phi*i.dampingFactor):(p.theta+=u.theta,p.phi+=u.phi);var m=i.minAzimuthAngle,f=i.maxAzimuthAngle;return isFinite(m)&&isFinite(f)&&(m<-Math.PI?m+=v:m>Math.PI&&(m-=v),f<-Math.PI?f+=v:f>Math.PI&&(f-=v),p.theta=m<=f?Math.max(m,Math.min(f,p.theta)):p.theta>(m+f)/2?Math.max(m,p.theta):Math.min(f,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=d,p.radius=Math.max(i.minDistance,Math.min(i.maxDistance,p.radius)),!0===i.enableDamping?i.target.addScaledVector(h,i.dampingFactor):i.target.add(h),t.setFromSpherical(p),t.applyQuaternion(a),e.copy(i.target).add(t),i.object.lookAt(i.target),!0===i.enableDamping?(u.theta*=1-i.dampingFactor,u.phi*=1-i.dampingFactor,h.multiplyScalar(1-i.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),d=1,!!(b||o.distanceToSquared(i.object.position)>c||8*(1-s.dot(i.object.quaternion))>c)&&(i.dispatchEvent(S),o.copy(i.object.position),s.copy(i.object.quaternion),b=!1,!0)}}(),o.dispose=function(){i.domElement.removeEventListener("contextmenu",$),i.domElement.removeEventListener("pointerdown",K),i.domElement.removeEventListener("pointercancel",B),i.domElement.removeEventListener("wheel",J),i.domElement.removeEventListener("pointermove",q),i.domElement.removeEventListener("pointerup",W),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",Q)};var i=Object(O.a)(o),r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=r.NONE,c=1e-6,p=new m.r,u=new m.r,d=1,h=new m.w,b=!1,v=new m.v,f=new m.v,g=new m.v,y=new m.v,w=new m.v,E=new m.v,P=new m.v,j=new m.v,M=new m.v,x=[],N={};function k(){return Math.pow(.95,i.zoomSpeed)}function L(e){u.theta-=e}function z(e){u.phi-=e}var I=function(){var e=new m.w;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),F=function(){var e=new m.w;return function(t,n){!0===i.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(i.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),C=function(){var e=new m.w;return function(t,n){var a=i.domElement;if(i.object.isPerspectiveCamera){var o=i.object.position;e.copy(o).sub(i.target);var r=e.length();r*=Math.tan(i.object.fov/2*Math.PI/180),I(2*t*r/a.clientHeight,i.object.matrix),F(2*n*r/a.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(I(t*(i.object.right-i.object.left)/i.object.zoom/a.clientWidth,i.object.matrix),F(n*(i.object.top-i.object.bottom)/i.object.zoom/a.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function R(e){i.object.isPerspectiveCamera?d/=e:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*e)),i.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(e){i.object.isPerspectiveCamera?d*=e:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/e)),i.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(e){v.set(e.clientX,e.clientY)}function _(e){y.set(e.clientX,e.clientY)}function H(){if(1===x.length)v.set(x[0].pageX,x[0].pageY);else{var e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);v.set(e,t)}}function U(){if(1===x.length)y.set(x[0].pageX,x[0].pageY);else{var e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);y.set(e,t)}}function X(){var e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY,n=Math.sqrt(e*e+t*t);P.set(0,n)}function Z(e){if(1==x.length)f.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),a=.5*(e.pageY+t.y);f.set(n,a)}g.subVectors(f,v).multiplyScalar(i.rotateSpeed);var o=i.domElement;L(2*Math.PI*g.x/o.clientHeight),z(2*Math.PI*g.y/o.clientHeight),v.copy(f)}function V(e){if(1===x.length)w.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),a=.5*(e.pageY+t.y);w.set(n,a)}E.subVectors(w,y).multiplyScalar(i.panSpeed),C(E.x,E.y),y.copy(w)}function G(e){var t=ne(e),n=e.pageX-t.x,a=e.pageY-t.y,o=Math.sqrt(n*n+a*a);j.set(0,o),M.set(0,Math.pow(j.y/P.y,i.zoomSpeed)),R(M.y),P.copy(j)}function K(e){!1!==i.enabled&&(0===x.length&&(i.domElement.setPointerCapture(e.pointerId),i.domElement.addEventListener("pointermove",q),i.domElement.addEventListener("pointerup",W)),function(e){x.push(e)}(e),"touch"===e.pointerType?function(e){switch(te(e),x.length){case 1:switch(i.touches.ONE){case m.t.ROTATE:if(!1===i.enableRotate)return;H(),l=r.TOUCH_ROTATE;break;case m.t.PAN:if(!1===i.enablePan)return;U(),l=r.TOUCH_PAN;break;default:l=r.NONE}break;case 2:switch(i.touches.TWO){case m.t.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;i.enableZoom&&X(),i.enablePan&&U(),l=r.TOUCH_DOLLY_PAN;break;case m.t.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;i.enableZoom&&X(),i.enableRotate&&H(),l=r.TOUCH_DOLLY_ROTATE;break;default:l=r.NONE}break;default:l=r.NONE}l!==r.NONE&&i.dispatchEvent(T)}(e):function(e){var t;switch(e.button){case 0:t=i.mouseButtons.LEFT;break;case 1:t=i.mouseButtons.MIDDLE;break;case 2:t=i.mouseButtons.RIGHT;break;default:t=-1}switch(t){case m.k.DOLLY:if(!1===i.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(e),l=r.DOLLY;break;case m.k.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enablePan)return;_(e),l=r.PAN}else{if(!1===i.enableRotate)return;Y(e),l=r.ROTATE}break;case m.k.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enableRotate)return;Y(e),l=r.ROTATE}else{if(!1===i.enablePan)return;_(e),l=r.PAN}break;default:l=r.NONE}l!==r.NONE&&i.dispatchEvent(T)}(e))}function q(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(te(e),l){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Z(e),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;V(e),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;!function(e){i.enableZoom&&G(e),i.enablePan&&V(e)}(e),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;!function(e){i.enableZoom&&G(e),i.enableRotate&&Z(e)}(e),i.update();break;default:l=r.NONE}}(e):function(e){if(!1===i.enabled)return;switch(l){case r.ROTATE:if(!1===i.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),g.subVectors(f,v).multiplyScalar(i.rotateSpeed);var t=i.domElement;L(2*Math.PI*g.x/t.clientHeight),z(2*Math.PI*g.y/t.clientHeight),v.copy(f),i.update()}(e);break;case r.DOLLY:if(!1===i.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),M.subVectors(j,P),M.y>0?R(k()):M.y<0&&D(k()),P.copy(j),i.update()}(e);break;case r.PAN:if(!1===i.enablePan)return;!function(e){w.set(e.clientX,e.clientY),E.subVectors(w,y).multiplyScalar(i.panSpeed),C(E.x,E.y),y.copy(w),i.update()}(e)}}(e))}function W(e){ee(e),0===x.length&&(i.domElement.releasePointerCapture(e.pointerId),i.domElement.removeEventListener("pointermove",q),i.domElement.removeEventListener("pointerup",W)),i.dispatchEvent(A),l=r.NONE}function B(e){ee(e)}function J(e){!1!==i.enabled&&!1!==i.enableZoom&&l===r.NONE&&(e.preventDefault(),i.dispatchEvent(T),function(e){e.deltaY<0?D(k()):e.deltaY>0&&R(k()),i.update()}(e),i.dispatchEvent(A))}function Q(e){!1!==i.enabled&&!1!==i.enablePan&&function(e){var t=!1;switch(e.code){case i.keys.UP:C(0,i.keyPanSpeed),t=!0;break;case i.keys.BOTTOM:C(0,-i.keyPanSpeed),t=!0;break;case i.keys.LEFT:C(i.keyPanSpeed,0),t=!0;break;case i.keys.RIGHT:C(-i.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),i.update())}(e)}function $(e){!1!==i.enabled&&e.preventDefault()}function ee(e){delete N[e.pointerId];for(var t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId)return void x.splice(t,1)}function te(e){var t=N[e.pointerId];void 0===t&&(t=new m.v,N[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ne(e){var t=e.pointerId===x[0].pointerId?x[1]:x[0];return N[t.pointerId]}return i.domElement.addEventListener("contextmenu",$),i.domElement.addEventListener("pointerdown",K),i.domElement.addEventListener("pointercancel",B),i.domElement.addEventListener("wheel",J,{passive:!1}),o.update(),o}return n}(m.i),M=n(9),x=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;for(var o in Object(s.a)(this,n),(a=t.call(this,e)).configGUI=function(){var e=new h.a;for(var t in y)"color"===t?e.addColor(a.options,t,y[t]):e.add(a.options,t,y[t].min,y[t].max);return e},a.options={},y)a.options[o]=y[o].default;return a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.configGUI().show();var t=new m.p,n=new m.m(60,window.innerWidth/window.innerHeight,.1,1e3),a=new m.x({antialias:!0}),o=new m.e;o.start();var i=new d.a;i.showPanel(0),document.body.appendChild(i.dom),n.position.set(10,2,0),a.setSize(window.innerWidth,window.innerHeight),a.setClearColor(789516,1),document.querySelector("#main").appendChild(a.domElement);var r=new j(n,document.querySelector("#main")),s=new P;t.add(s.particleSystem);new m.a(5);!function l(){i.begin();var c=o.getElapsedTime();r.update(),s.bulkSetAttrs(e.options),s.update(c),n.lookAt(s.particleSystem.position),a.render(t,n),i.end(),requestAnimationFrame(l)}(),window.onresize=function(){a.setSize(window.innerWidth,window.innerHeight)}}},{key:"render",value:function(){return Object(M.jsx)("div",{id:"main"})}}]),n}(o.a.PureComponent),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};r.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(x,{})}),document.getElementById("root")),N()}},[[22,1,2]]]);
//# sourceMappingURL=main.4addb013.chunk.js.map