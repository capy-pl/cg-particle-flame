(this["webpackJsonpcp-final-fire-simulation"]=this["webpackJsonpcp-final-fire-simulation"]||[]).push([[0],{20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n.n(a),i=n(12),r=n.n(i),s=(n(20),n(0)),l=n(1),c=n(2),p=n(3),u=n(5),d=n(13),m=n.n(d),h=n(14),v=function(e){return e=e.map((function(e){return e/256})),new u.e(e[0],e[1],e[2])},b=n(15),f=6e3,g=.0085,y=[245.82,102,25],w="gradient.png",E=new u.v(0,1,4),P={size:{default:.6,min:.01,max:4},sizeVarience:{default:.5,min:0,max:1},speed:{default:120,min:50,max:200},speedVarience:{default:.5,min:0,max:1},centrality:{default:5,min:1,max:10},fadingSpeed:{default:g,min:.001,max:.03},color:{default:y},wind:{default:!1},windStrength:{default:5,min:1,max:10},texture:{default:w,options:["gradient.png","explosion.png","flame.png","symbol_02.png","flame_03.png","smoke_05.png","star_01.png","muzzle_02.png","heart.png","smile.png"]}},O=0,S=1,T=function(){function e(t){var n=this;Object(s.a)(this,e),this.setAttr=function(e,t){n.options.hasOwnProperty(e)&&void 0!==t&&n.options[e]!==t&&("color"===e?(n.options[e]=v(t),n.material.uniforms.color.value=n.options[e]):("texture"===e&&(n.material.uniforms.tex.value=n.loadTexture(t)),n.options[e]=t))},this.bulkSetAttrs=function(e){for(var t in e)n.setAttr(t,e[t])},this.setParticleNum=function(e){if(e!==n.options.particleNum){for(var t=0;t<f;t++)t<e&&n.particleState[t]===O&&(n.particleState[t]=S,n.alpha[t]=0),t>=e&&n.particleState[t]===S&&(n.particleState[t]=O,n.alpha[t]=0);n.options.particleNum=e}},this.init=function(){for(var e=0;e<f;e++)n.alpha[e]=0,n.particleState[e]=O},this.appendParticle=function(){var e=n.particleNumber;n.particleState[e]=S;var t=3*e,a=n.createParticle();n.position[t]=a.position.x,n.position[t+1]=a.position.y,n.position[t+2]=a.position.z,n.vel[t]=a.vel.x,n.vel[t+1]=a.vel.y,n.vel[t+2]=a.vel.z,n.size[e]=a.size,n.speed[e]=a.speed,n.alpha[e]=.6,n.particleNumber+=1},this.createParticle=function(){return{position:function(){var e=new u.v,t=2*Math.PI,n=Math.random()*t+u.k.randFloatSpread(.2*Math.PI),a=Math.random()*t+u.k.randFloatSpread(.2*Math.PI);return e.x=u.k.randFloat(0,3*Math.sin(n)*Math.cos(a)),e.y=.2*u.k.randFloat(0,3*Math.cos(n)),e.z=u.k.randFloat(0,3*Math.sin(n)*Math.sin(a)),e}(),vel:function(e){var t=new u.v,n=2*Math.PI*Math.random()+u.k.randFloatSpread(.4*Math.PI),a=2*Math.PI*Math.random()+u.k.randFloatSpread(.4*Math.PI);return t.x=Math.cos(n),t.y=e,t.z=Math.sin(a),t.normalize(),t}(n.options.centrality),speed:n.options.speed+u.k.randFloatSpread(n.options.speed*n.options.speedVarience),size:n.options.size+u.k.randFloatSpread(n.options.size*n.options.sizeVarience)}},this.update=function(e){var t=n.particleSystem.geometry.attributes.position.array,a=n.particleSystem.geometry.attributes.alpha.array,o=new b.a(e),i=e-n.prevElapsed;if(n.prevElapsed=e,n.particleNumber<n.options.particleNum)for(n.numShouldGen+=1600*i;n.numShouldGen>0;)n.appendParticle(),n.numShouldGen-=1;for(var r=0;r<n.particleNumber;r++){var s=3*r;if(a[r]<=0){var l=n.createParticle();t[s]=l.position.x,t[s+1]=l.position.y,t[s+2]=l.position.z,n.vel[s]=l.vel.x,n.vel[s+1]=l.vel.y,n.vel[s+2]=l.vel.z,n.speed[r]=l.speed,n.size[r]=l.size,a[r]=.6}else{var c=n.speed[r]/1e3;if(n.options.wind){var p=new u.v(t[s],t[s+1],t[s+2]),d=new u.v(n.vel[s],n.vel[s+1],n.vel[s+2]),m=(new u.v).subVectors(E,p),h=m.length(),v=o.noise3D(t[s],100,t[s+2]);m.normalize().addScalar(v).multiplyScalar(Math.tanh(n.options.windStrength/h)),d.add(m).normalize(),t[s]+=d.x*c,t[s+1]+=d.y*c,t[s+2]+=d.z*c}else t[s]+=n.vel[s]*c,t[s+1]+=n.vel[s+1]*c,t[s+2]+=n.vel[s+2]*c;var f=new u.u(t[s],t[s+2]).length();a[r]-=n.options.fadingSpeed+.01*Math.tanh(1.5*f)}}n.particleSystem.geometry.attributes.size.needsUpdate=!0,n.particleSystem.geometry.attributes.position.needsUpdate=!0,n.particleSystem.geometry.attributes.alpha.needsUpdate=!0},this.options={size:.6,sizeVarience:.5,speed:120,speedVarience:.5,fadingSpeed:g,particleNum:3e3,centrality:5,color:y,wind:!1,windStrength:10,texture:w},this.bulkSetAttrs(t),this.position=new Float32Array(18e3),this.vel=new Float32Array(18e3),this.size=new Float32Array(f),this.speed=new Float32Array(f),this.alpha=new Float32Array(f),this.particleState=new Uint8Array(f),this.prevElapsed=0,this.time=0,this.particleNumber=0,this.numShouldGen=0,this.init(),this.center=new u.v(0,0,0),this.geometry=new u.b,this.geometry.setAttribute("position",new u.a(this.position,3)),this.geometry.setAttribute("size",new u.a(this.size,1)),this.geometry.setAttribute("alpha",new u.a(this.alpha,1));var a=this.loadTexture("gradient.png");a.wrapS=u.c,a.wrapT=u.c,a.minFilter=u.i;var o={tex:{value:a},color:{value:v(this.options.color)}};this.material=new u.p({vertexShader:"attribute float size;\nattribute float alpha;\n\nvarying float v_alpha;\n\nvoid main() {\n    vec4 mvPos = modelViewMatrix * vec4(position, 1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = 600.0 * size / length(mvPos.xyz);\n    v_alpha = alpha;\n}",fragmentShader:"uniform sampler2D tex;\nuniform vec3 color;\nvarying float v_alpha;\n\nvoid main() {\n    gl_FragColor = vec4(color, v_alpha) * texture2D(tex, gl_PointCoord);\n}",uniforms:o,blending:u.f,depthTest:!1,transparent:!0}),this.material.blending=u.f,this.material.blendSrc=u.r,this.material.blendDst=u.g,this.particleSystem=new u.m(this.geometry,this.material)}return Object(l.a)(e,[{key:"loadTexture",value:function(e){return(new u.t).load("".concat("/cg-particle-flame","/").concat(e))}}]),e}(),x=n(6),A={type:"change"},j={type:"start"},M={type:"end"},N=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e,a){var o;Object(s.a)(this,n),o=t.call(this),void 0===a&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.object=e,o.domElement=a,o.domElement.style.touchAction="none",o.enabled=!0,o.target=new u.v,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.05,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.panSpeed=1,o.screenSpacePanning=!0,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},o.mouseButtons={LEFT:u.j.ROTATE,MIDDLE:u.j.DOLLY,RIGHT:u.j.PAN},o.touches={ONE:u.s.ROTATE,TWO:u.s.DOLLY_PAN},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o._domElementKeyEvents=null,o.getPolarAngle=function(){return p.phi},o.getAzimuthalAngle=function(){return p.theta},o.getDistance=function(){return this.object.position.distanceTo(this.target)},o.listenToKeyEvents=function(e){e.addEventListener("keydown",Q),this._domElementKeyEvents=e},o.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},o.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(A),i.update(),l=r.NONE},o.update=function(){var t=new u.v,n=(new u.n).setFromUnitVectors(e.up,new u.v(0,1,0)),a=n.clone().invert(),o=new u.v,s=new u.n,b=2*Math.PI;return function(){var e=i.object.position;t.copy(e).sub(i.target),t.applyQuaternion(n),p.setFromVector3(t),i.autoRotate&&l===r.NONE&&z(2*Math.PI/60/60*i.autoRotateSpeed),i.enableDamping?(p.theta+=d.theta*i.dampingFactor,p.phi+=d.phi*i.dampingFactor):(p.theta+=d.theta,p.phi+=d.phi);var u=i.minAzimuthAngle,f=i.maxAzimuthAngle;return isFinite(u)&&isFinite(f)&&(u<-Math.PI?u+=b:u>Math.PI&&(u-=b),f<-Math.PI?f+=b:f>Math.PI&&(f-=b),p.theta=u<=f?Math.max(u,Math.min(f,p.theta)):p.theta>(u+f)/2?Math.max(u,p.theta):Math.min(f,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=m,p.radius=Math.max(i.minDistance,Math.min(i.maxDistance,p.radius)),!0===i.enableDamping?i.target.addScaledVector(h,i.dampingFactor):i.target.add(h),t.setFromSpherical(p),t.applyQuaternion(a),e.copy(i.target).add(t),i.object.lookAt(i.target),!0===i.enableDamping?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,h.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),h.set(0,0,0)),m=1,!!(v||o.distanceToSquared(i.object.position)>c||8*(1-s.dot(i.object.quaternion))>c)&&(i.dispatchEvent(A),o.copy(i.object.position),s.copy(i.object.quaternion),v=!1,!0)}}(),o.dispose=function(){i.domElement.removeEventListener("contextmenu",$),i.domElement.removeEventListener("pointerdown",K),i.domElement.removeEventListener("pointercancel",B),i.domElement.removeEventListener("wheel",J),i.domElement.removeEventListener("pointermove",q),i.domElement.removeEventListener("pointerup",W),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",Q)};var i=Object(x.a)(o),r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=r.NONE,c=1e-6,p=new u.q,d=new u.q,m=1,h=new u.v,v=!1,b=new u.u,f=new u.u,g=new u.u,y=new u.u,w=new u.u,E=new u.u,P=new u.u,O=new u.u,S=new u.u,T=[],N={};function k(){return Math.pow(.95,i.zoomSpeed)}function z(e){d.theta-=e}function L(e){d.phi-=e}var I=function(){var e=new u.v;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),F=function(){var e=new u.v;return function(t,n){!0===i.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(i.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),C=function(){var e=new u.v;return function(t,n){var a=i.domElement;if(i.object.isPerspectiveCamera){var o=i.object.position;e.copy(o).sub(i.target);var r=e.length();r*=Math.tan(i.object.fov/2*Math.PI/180),I(2*t*r/a.clientHeight,i.object.matrix),F(2*n*r/a.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(I(t*(i.object.right-i.object.left)/i.object.zoom/a.clientWidth,i.object.matrix),F(n*(i.object.top-i.object.bottom)/i.object.zoom/a.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function R(e){i.object.isPerspectiveCamera?m/=e:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*e)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function _(e){i.object.isPerspectiveCamera?m*=e:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/e)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(e){b.set(e.clientX,e.clientY)}function Y(e){y.set(e.clientX,e.clientY)}function H(){if(1===T.length)b.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);b.set(e,t)}}function U(){if(1===T.length)y.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);y.set(e,t)}}function X(){var e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);P.set(0,n)}function Z(e){if(1==T.length)f.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),a=.5*(e.pageY+t.y);f.set(n,a)}g.subVectors(f,b).multiplyScalar(i.rotateSpeed);var o=i.domElement;z(2*Math.PI*g.x/o.clientHeight),L(2*Math.PI*g.y/o.clientHeight),b.copy(f)}function V(e){if(1===T.length)w.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),a=.5*(e.pageY+t.y);w.set(n,a)}E.subVectors(w,y).multiplyScalar(i.panSpeed),C(E.x,E.y),y.copy(w)}function G(e){var t=ne(e),n=e.pageX-t.x,a=e.pageY-t.y,o=Math.sqrt(n*n+a*a);O.set(0,o),S.set(0,Math.pow(O.y/P.y,i.zoomSpeed)),R(S.y),P.copy(O)}function K(e){!1!==i.enabled&&(0===T.length&&(i.domElement.setPointerCapture(e.pointerId),i.domElement.addEventListener("pointermove",q),i.domElement.addEventListener("pointerup",W)),function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){switch(te(e),T.length){case 1:switch(i.touches.ONE){case u.s.ROTATE:if(!1===i.enableRotate)return;H(),l=r.TOUCH_ROTATE;break;case u.s.PAN:if(!1===i.enablePan)return;U(),l=r.TOUCH_PAN;break;default:l=r.NONE}break;case 2:switch(i.touches.TWO){case u.s.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;i.enableZoom&&X(),i.enablePan&&U(),l=r.TOUCH_DOLLY_PAN;break;case u.s.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;i.enableZoom&&X(),i.enableRotate&&H(),l=r.TOUCH_DOLLY_ROTATE;break;default:l=r.NONE}break;default:l=r.NONE}l!==r.NONE&&i.dispatchEvent(j)}(e):function(e){var t;switch(e.button){case 0:t=i.mouseButtons.LEFT;break;case 1:t=i.mouseButtons.MIDDLE;break;case 2:t=i.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.j.DOLLY:if(!1===i.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(e),l=r.DOLLY;break;case u.j.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enablePan)return;Y(e),l=r.PAN}else{if(!1===i.enableRotate)return;D(e),l=r.ROTATE}break;case u.j.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enableRotate)return;D(e),l=r.ROTATE}else{if(!1===i.enablePan)return;Y(e),l=r.PAN}break;default:l=r.NONE}l!==r.NONE&&i.dispatchEvent(j)}(e))}function q(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(te(e),l){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Z(e),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;V(e),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;!function(e){i.enableZoom&&G(e),i.enablePan&&V(e)}(e),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;!function(e){i.enableZoom&&G(e),i.enableRotate&&Z(e)}(e),i.update();break;default:l=r.NONE}}(e):function(e){if(!1===i.enabled)return;switch(l){case r.ROTATE:if(!1===i.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),g.subVectors(f,b).multiplyScalar(i.rotateSpeed);var t=i.domElement;z(2*Math.PI*g.x/t.clientHeight),L(2*Math.PI*g.y/t.clientHeight),b.copy(f),i.update()}(e);break;case r.DOLLY:if(!1===i.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),S.subVectors(O,P),S.y>0?R(k()):S.y<0&&_(k()),P.copy(O),i.update()}(e);break;case r.PAN:if(!1===i.enablePan)return;!function(e){w.set(e.clientX,e.clientY),E.subVectors(w,y).multiplyScalar(i.panSpeed),C(E.x,E.y),y.copy(w),i.update()}(e)}}(e))}function W(e){ee(e),0===T.length&&(i.domElement.releasePointerCapture(e.pointerId),i.domElement.removeEventListener("pointermove",q),i.domElement.removeEventListener("pointerup",W)),i.dispatchEvent(M),l=r.NONE}function B(e){ee(e)}function J(e){!1!==i.enabled&&!1!==i.enableZoom&&l===r.NONE&&(e.preventDefault(),i.dispatchEvent(j),function(e){e.deltaY<0?_(k()):e.deltaY>0&&R(k()),i.update()}(e),i.dispatchEvent(M))}function Q(e){!1!==i.enabled&&!1!==i.enablePan&&function(e){var t=!1;switch(e.code){case i.keys.UP:C(0,i.keyPanSpeed),t=!0;break;case i.keys.BOTTOM:C(0,-i.keyPanSpeed),t=!0;break;case i.keys.LEFT:C(i.keyPanSpeed,0),t=!0;break;case i.keys.RIGHT:C(-i.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),i.update())}(e)}function $(e){!1!==i.enabled&&e.preventDefault()}function ee(e){delete N[e.pointerId];for(var t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function te(e){var t=N[e.pointerId];void 0===t&&(t=new u.u,N[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ne(e){var t=e.pointerId===T[0].pointerId?T[1]:T[0];return N[t.pointerId]}return i.domElement.addEventListener("contextmenu",$),i.domElement.addEventListener("pointerdown",K),i.domElement.addEventListener("pointercancel",B),i.domElement.addEventListener("wheel",J,{passive:!1}),o.update(),o}return n}(u.h),k=n(9),z=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;for(var o in Object(s.a)(this,n),(a=t.call(this,e)).configGUI=function(){var e=new h.a;for(var t in P)"color"===t?e.addColor(a.options,t,P[t]):"texture"===t?e.add(a.options,t,P[t].options):e.add(a.options,t,P[t].min,P[t].max);return e},a.options={},P)a.options[o]=P[o].default;return a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.configGUI().show();var t=new u.o,n=new u.l(60,window.innerWidth/window.innerHeight,.1,1e3),a=new u.w({antialias:!0}),o=new u.d;o.start();var i=new m.a;i.showPanel(0),document.body.appendChild(i.dom),n.position.set(10,2,0),a.setSize(window.innerWidth,window.innerHeight),a.setClearColor(789516,1),document.querySelector("#main").appendChild(a.domElement);var r=new N(n,document.querySelector("#main")),s=new T;t.add(s.particleSystem);!function l(){i.begin();var c=o.getElapsedTime();r.update(),s.bulkSetAttrs(e.options),s.update(c),n.lookAt(s.particleSystem.position),a.render(t,n),i.end(),requestAnimationFrame(l)}(),window.onresize=function(){a.setSize(window.innerWidth,window.innerHeight)}}},{key:"render",value:function(){return Object(k.jsx)("div",{id:"main"})}}]),n}(o.a.PureComponent),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};r.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(z,{})}),document.getElementById("root")),L()}},[[23,1,2]]]);
//# sourceMappingURL=main.106ecaba.chunk.js.map